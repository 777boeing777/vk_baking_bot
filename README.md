# VK BAKING BOT (Кондитерская)

ВК бот, который позволяет просматрирвать различные хлебные и кондитерские изделя по категориям. Всего есть 4 категории - пончики, круассаны, авторская выпечка, торты. Также есть готовый скрипт начального заполнения базы данных данными-пустышками.

### Разделы
1. [Описание бота](#description)
2. [Машина состояний](#machine)
3. [База данных](#db)
4. [Запуск](#launch)

## Описание бота <a name="description"></a> 
Данный бот разработан в соответствии с оффициальной документаций VK![image](https://user-images.githubusercontent.com/92817776/222977639-01983ce1-f534-465b-a767-11af0dd6d833.png)
Прилагаю [ссылку на докумекнтацию.](https://dev.vk.com/api/bots/overview). При создании не было задействовано сторонних библиотек, таких, например, как vk_api. Работа с API VK ведется напрямую.

## Машина состояний<a name="machine"></a> 

За ядро машины был взят двусвязный список. ![image](https://user-images.githubusercontent.com/92817776/222978003-846aed53-a662-447d-a8b0-19c277b777e2.png)
Каждый узел списка - то или иное состояние пользователя. Я решил, что этот подход имеет место быть, так как является максимально удобным, ведь каждое состояние уже знает, какое состояние должно идти после него.
Под состоянием подразумевается **функция, куда полетит сообщение пользователя.** Таким образом состояние выступает не только в качестве указателя, оно и есть то, куда оно указывает. Чтобы указать состояние функции - необходимо указать один **параметр state** в декораторе **message_handler.**


## База данных <a name="db"></a> 

В качестве БД используется реляционный тип БД. В качестве СУБД - SQLite. В самом же коде взаимодействие реализовано при помощи фрейморвка SQLAlchemy. База данных используется для динамической подгрузки клавиатуры (кнопок на ней). Хранение изображений реализовано в виде хранения пути изображения в файловой системе и, возможно, требует улучшения.

## Запуск <a name="launch"></a> 
**1.Клонирование репозитория**
    
    git clone https://github.com/777boeing777/vk_baking_bot.git
    
**2.Установка зависимостей**
    
    pip install -r requirements.txt
    
**3.Указание токена бота**
    
    export TOKEN="VK TOKEN"
    
**4.Запуск бота**
    
    python main.py
    
